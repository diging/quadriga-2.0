<html layout:decorate="~{layouts/main}">
<head>
	<title>Quadriga 2.0</title>
	<link rel="stylesheet" th:href="@{/resources/static/css/admin/user/apps.css}" type="text/css" />
</head>
<body>
	<div layout:fragment="content">
		<h2>Assign apps to user <span th:text="${username}"></span></h2>
		<div class="table-bordered table-responsive apps-table">
			<table class="table table-hover">
				<thead>
					<tr>
						<th>Client Id</th>
						<th>Name</th>
						<th>Description</th>
						<th>Action</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="app: ${apps}">
						<td th:text="${app.clientId}"></td>
						<td th:text="${app.name}"></td>
						<td th:text="${app.description}"></td>
						<td>
							<a th:href="@{|/admin/user/${username}/app/${app.clientId}/assign|}"
								th:unless="${#sets.contains(userApps, app.clientId)}"
								class="assign-action">
								<i class="fas fa-check-circle action-icon"></i>Assign
							</a>
							<a th:href="@{|/admin/user/${username}/app/${app.clientId}/revoke|}"
								th:if="${#sets.contains(userApps, app.clientId)}"
								class="revoke-action">
								<i class="fas fa-times-circle action-icon"></i>Revoke
							</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>